<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie API Documentation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background-color: #f9f9f9;
        }

        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }

        .intro {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
            vertical-align: top;
        }

        th {
            background-color: #2c3e50;
            color: white;
            font-weight: bold;
            text-align: center;
        }

        .method {
            font-weight: bold;
            text-align: center;
            padding: 8px;
            border-radius: 4px;
            color: white;
        }

        .method.get {
            background-color: #28a745;
        }

        .method.post {
            background-color: #007bff;
        }

        .method.put {
            background-color: #ffc107;
            color: #333;
        }

        .method.delete {
            background-color: #dc3545;
        }

        .url {
            font-family: 'Courier New', monospace;
            background-color: #f8f9fa;
            padding: 8px;
            border-radius: 4px;
            font-weight: bold;
        }

        .code-block {
            font-family: 'Courier New', monospace;
            background-color: #f8f9fa;
            padding: 8px;
            border-radius: 4px;
            font-size: 0.85em;
            line-height: 1.4;
            border-left: 3px solid #007bff;
        }

        .response-block {
            font-family: 'Courier New', monospace;
            background-color: #f0f8f0;
            padding: 8px;
            border-radius: 4px;
            font-size: 0.85em;
            line-height: 1.4;
            border-left: 3px solid #28a745;
        }

        .description {
            font-size: 0.95em;
            max-width: 280px;
        }

        .notes {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .param-note {
            color: #666;
            font-style: italic;
            font-size: 0.85em;
        }
    </style>
</head>

<body>
    <h1>Movie API Documentation</h1>

    <table>
        <thead>
            <tr>
                <th>Description</th>
                <th>Method</th>
                <th>Endpoint URL</th>
                <th>Query Parameters</th>
                <th>Request Body</th>
                <th>Response Format</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="description">Returns a complete list of all movies from MongoDB database</td>
                <td class="method get">GET</td>
                <td class="url">/movies</td>
                <td class="param-note">None</td>
                <td class="code-block">None</td>
                <td class="response-block">JSON Array:<br>
                    [<br>
                    &nbsp;&nbsp;{<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"_id": "68dab3357250d28a9cce5f47",<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"title": "No Other Land",<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"year": 2024,<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"description": "Shows the destruction...",<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"genre": {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"name": "Documentary",<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"description": "Non-fiction films..."<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;},<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"director": {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"name": "Basel Adra",<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"bio": "Palestinian journalist...",<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"birthYear": null,<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"deathYear": null<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;},<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"featured": true,<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"imageURL": "https://upload.wikimedia.org/..."<br>
                    &nbsp;&nbsp;}<br>
                    ]</td>
            </tr>
            <tr>
                <td class="description">Returns detailed information about a specific movie by exact title match</td>
                <td class="method get">GET</td>
                <td class="url">/movies/[title]</td>
                <td class="param-note">title (URL parameter)<br>Example: /movies/Tár</td>
                <td class="code-block">None</td>
                <td class="response-block">JSON Object:<br>
                    {<br>
                    &nbsp;&nbsp;"_id": "68dab3357250d28a9cce5f48",<br>
                    &nbsp;&nbsp;"title": "Tár",<br>
                    &nbsp;&nbsp;"year": 2022,<br>
                    &nbsp;&nbsp;"description": "A celebrated music director's life...",<br>
                    &nbsp;&nbsp;"genre": {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"name": "Drama",<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"description": "Serious, character-driven..."<br>
                    &nbsp;&nbsp;},<br>
                    &nbsp;&nbsp;"director": {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"name": "Todd Field",<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"bio": "American filmmaker...",<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"birthYear": 1964,<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"deathYear": null<br>
                    &nbsp;&nbsp;},<br>
                    &nbsp;&nbsp;"featured": true,<br>
                    &nbsp;&nbsp;"imageURL": "https://upload.wikimedia.org/..."<br>
                    }</td>
            </tr>
            <tr>
                <td class="description">Returns genre information by finding the first movie with that genre</td>
                <td class="method get">GET</td>
                <td class="url">/genres/[name]</td>
                <td class="param-note">name (URL parameter)<br>Example: /genres/Fantasy</td>
                <td class="code-block">None</td>
                <td class="response-block">JSON Object:<br>
                    {<br>
                    &nbsp;&nbsp;"name": "Fantasy",<br>
                    &nbsp;&nbsp;"description": "Stories incorporating magical, supernatural, or dreamlike elements."<br>
                    }</td>
            </tr>
            <tr>
                <td class="description">Returns director information by finding the first movie with that director</td>
                <td class="method get">GET</td>
                <td class="url">/directors/[name]</td>
                <td class="param-note">name (URL parameter)<br>Example: /directors/Apichatpong%20Weerasethakul</td>
                <td class="code-block">None</td>
                <td class="response-block">JSON Object:<br>
                    {<br>
                    &nbsp;&nbsp;"name": "Apichatpong Weerasethakul",<br>
                    &nbsp;&nbsp;"bio": "Thai independent film director, screenwriter, and producer.",<br>
                    &nbsp;&nbsp;"birthYear": 1970,<br>
                    &nbsp;&nbsp;"deathYear": null<br>
                    }</td>
            </tr>
            <tr>
                <td class="description">Creates a new user account with username validation (must be unique)</td>
                <td class="method post">POST</td>
                <td class="url">/users</td>
                <td class="param-note">None</td>
                <td class="code-block">JSON Object (required):<br>
                    {<br>
                    &nbsp;&nbsp;"username": "cinephile01",<br>
                    &nbsp;&nbsp;"email": "cinephile01@example.com",<br>
                    &nbsp;&nbsp;"password": "password123",<br>
                    &nbsp;&nbsp;"birthday": "1990-05-12"<br>
                    }</td>
                <td class="response-block">JSON Object:<br>
                    {<br>
                    &nbsp;&nbsp;"_id": "68dab3827250d28a9cce5f51",<br>
                    &nbsp;&nbsp;"username": "cinephile01",<br>
                    &nbsp;&nbsp;"email": "cinephile01@example.com",<br>
                    &nbsp;&nbsp;"password": "password123",<br>
                    &nbsp;&nbsp;"birthday": "1990-05-12T00:00:00.000Z",<br>
                    &nbsp;&nbsp;"favoriteMovies": [],<br>
                    &nbsp;&nbsp;"__v": 0<br>
                    }<br><br>
                    Status: 201 Created<br><br>
                    Error Response:<br>
                    "username already exists" (Status: 400)</td>
            </tr>
            <tr>
                <td class="description">Updates user information using $set operator (only provided fields are updated)</td>
                <td class="method put">PUT</td>
                <td class="url">/users/[username]</td>
                <td class="param-note">username (URL parameter)<br>Example: /users/cinephile01</td>
                <td class="code-block">JSON Object (optional fields):<br>
                    {<br>
                    &nbsp;&nbsp;"username": "newusername",<br>
                    &nbsp;&nbsp;"email": "newemail@example.com",<br>
                    &nbsp;&nbsp;"password": "newpassword",<br>
                    &nbsp;&nbsp;"birthday": "1990-05-12"<br>
                    }</td>
                <td class="response-block">JSON Object:<br>
                    {<br>
                    &nbsp;&nbsp;"_id": "68dab3827250d28a9cce5f51",<br>
                    &nbsp;&nbsp;"username": "newusername",<br>
                    &nbsp;&nbsp;"email": "newemail@example.com",<br>
                    &nbsp;&nbsp;"password": "newpassword",<br>
                    &nbsp;&nbsp;"birthday": "1990-05-12T00:00:00.000Z",<br>
                    &nbsp;&nbsp;"favoriteMovies": ["68dab3357250d28a9cce5f47"],<br>
                    &nbsp;&nbsp;"__v": 0<br>
                    }<br><br>
                    Status: 200 OK<br><br>
                    Error Response:<br>
                    "User not found" (Status: 404)</td>
            </tr>
            <tr>
                <td class="description">Adds a movie ObjectId to user's favoriteMovies array using $push operator</td>
                <td class="method put">PUT</td>
                <td class="url">/users/[username]/movies/[movieId]</td>
                <td class="param-note">username (URL parameter)<br>movieId (MongoDB ObjectId)<br>Example: /users/cinephile01/movies/68dab3357250d28a9cce5f47</td>
                <td class="code-block">None</td>
                <td class="response-block">Plain Text:<br>
                    "Movie has been added to cinephile01's favorites"<br><br>
                    Status: 200 OK<br><br>
                    Error Response:<br>
                    "User not found" (Status: 404)</td>
            </tr>
            <tr>
                <td class="description">Removes a movie ObjectId from user's favoriteMovies array using $pull operator</td>
                <td class="method delete">DELETE</td>
                <td class="url">/users/[username]/movies/[movieId]</td>
                <td class="param-note">username (URL parameter)<br>movieId (MongoDB ObjectId)<br>Example: /users/cinephile01/movies/68dab3357250d28a9cce5f47</td>
                <td class="code-block">None</td>
                <td class="response-block">Plain Text:<br>
                    "Movie has been removed from cinephile01's favorites"<br><br>
                    Status: 200 OK<br><br>
                    Error Response:<br>
                    "User not found" (Status: 404)</td>
            </tr>
            <tr>
                <td class="description">Completely removes a user document from the database using findOneAndDelete</td>
                <td class="method delete">DELETE</td>
                <td class="url">/users/[username]</td>
                <td class="param-note">username (URL parameter)<br>Example: /users/cinephile01</td>
                <td class="code-block">None</td>
                <td class="response-block">Plain Text:<br>
                    "cinephile01 was deleted."<br><br>
                    Status: 200 OK<br><br>
                    Error Response:<br>
                    "cinephile01 was not found" (Status: 404)</td>
            </tr>
        </tbody>
    </table>
</body>

</html>